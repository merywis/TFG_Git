<!DOCTYPE html>
<html>

<head>
  <title>TFG</title>
  <meta name="description" content="TFG">
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <!-- llibreria per poder fer move controls (amb lo de la camera) -->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

  

  <!-- <script src="https://unpkg.com/aframe-event-set-component@^5.0.0/dist/aframe-event-set-component.min.js"></script> 
  <script src="https://unpkg.com/aframe-animation-component@5.0.0/dist/aframe-animation-component.min.js"></script> -->

  <!-- 3 includes x audio-->
  <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@4.0.1/dist/aframe-event-set-component.min.js"></script>


  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
  <link href="style.css" rel="stylesheet" type="text/css">
</head>


<body>
  <a-scene id="sala" renderer="colorManagement: true;">

    <a-assets>
      <a-asset-item id="cityModel" src="assets/scene.gltf"></a-asset-item>
      <!--  <audio id="audioTomeu" src="assets/audios/audioTomeu.mp3" autoplay preload></audio>
       <audio id="audioTomeu" src="assets/audios/audioTomeu.mp3"></audio>-->
     <!-- sound -->
    <audio id="button1" src="//cdn.rawgit.com/michaelnebeling/src/master/button-1.mp3" crossorigin="anonymous"></audio>
    <audio id="button3" src="//cdn.rawgit.com/michaelnebeling/src/master/button-3.mp3" crossorigin="anonymous"></audio>
  
  </a-assets>


    <!-- box que fa d'habitació babbage -->
    <a-box color="grey" position="-25 3 -15" width="19.8" depth="40" height="16" material="side: double"></a-box>

    <!-- plane que funciona com a suelo babbage>-->
    <a-plane src="assets/suelo.jpg" position="-25 -4.9 -15" rotation="90 0 0" width="30" height="40"
      material="side: double"></a-plane>
    <a-gltf-model src="#cityModel" scale="4 4 4" position="-9 -4 -30"></a-gltf-model>


    <!-- box que fa d'habitació principal -->
    <a-box src="assets/pared.jpg" position="15 3 -15" width="60" depth="40" height="16" material="side: double"></a-box>

    <!-- plano que funciona com a suelo >-->
    <!-- <a-box src="assets/suelo.jpg" position="15 -5 -15" rotation="90 0 0" height="40" width="60" depth="0.1"></a-box> -->
    <a-plane src="assets/suelo.jpg" position="15 -4.9 -15" rotation="90 0 0" width="60" height="40"
      material="side: double"></a-plane>

    <!-- plano que fa de pared que divideix les dues habitacions-->
    <a-plane src="assets/pared.jpg" position="15 3 -10" rotation="0 90 0" width="30" height="16"
      material="side: double"></a-plane>

    <a-plane color="grey" position="15 10.5 -30" rotation="0 90 0" width="10" height="2" material="side: double">
    </a-plane>
    <!-- 
          <a-sphere
          color="#F5C85D"
          position="-1 1 -5" 
          radius="0.5"
          sound="src: #audioTomeu; on: click; volume: 1; refDistance: 20; rolloffFactor: 0.1"></a-sphere>-->
    
          <!-- click to begin -->
<a-sphere id = "esfera1" position="0 1.25 -5" radius="1.25" color="#EF2D5E" class = "clickable" sound="src: #button1; on: click; poolSize: 3" sound__mouseenter="src: #button3; on: mouseenter; poolSize: 2"></a-sphere>
    <!--<a-box position="-1 0.5 -3" rotation="0 45 0" width="1" height="1" depth="1" color="#4CC3D9" sound="src: #button1; on: click; poolSize: 3" sound__mouseenter="src: #button3; on: mouseenter; poolSize: 2"></a-box>
  
    <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D" sound="src: #button1; on: click; poolSize: 3" sound__mouseenter="src: #button3; on: mouseenter; poolSize: 2"></a-cylinder>
    -->


    <!--video util https://www.youtube.com/watch?v=HNHdnm8Fdd4 text-->

    <!-- allura  Allura-Regular.json
italianno Italianno-Regular.json -->

    <!-- puff -->
    <a-cylinder id="pufSala" src="assets/puff.jpg" position="0 -5 -20" radius="3.5" height="3"></a-cylinder>

    <!-- llum tipus: ambient, directional, hemisphere, point, spot.-->
    <a-entity light="type: ambient; color: #CCC"></a-entity> <!-- #ccc és més suau-->
    <a-entity light="type: point; intensity: 1.75; distance: 50; decay: 8" position="-14 5 -5"></a-entity>
    <a-entity light="type: point; intensity: 2.00; distance: 50; decay: 8" position="-14 5 -25"></a-entity>
    <!-- 
    <a-light type="point" intensity="2" position="2 4 4"></a-light>
    <a-entity light="type: directional; color: #EEE; intensity: 1.5" position="-1 1 0"></a-entity>
    <a-entity light="type: directional; color: #EEE; intensity: 1.5" position="1 1 0"></a-entity>
    <a-entity light="type: directional; color: #EEE; intensity: 1" position="0 1 1"></a-entity>
    <a-entity light="type: directional; color: #EEE; intensity: 1" position="0 1 -1"></a-entity>
    <a-entity light="type: directional; color: #EEE; intensity: 0.5" position="0 -1 0"></a-entity>-->


    <!-- Camera + cursor. parámetro raycaster és per clicar -->
    <!--look-controls = es lo que nos permite poder mirar con la camara
     movement-controls és llibreria per usar teclado para desplazarse -->
    <a-entity id="rig" movement-controls="speed: 0.7" position="0 0 0">
      <a-entity camera id="camera" position="0 0 0" look-controls="pointerLockEnabled:true">
        <!-- abans cursor ho tenia fins .clickables  look-controls-->
        <a-cursor id="cursor" raycaster="objects: .clickable"></a-cursor>
      </a-entity>
      <!-- Pare del PopUp -->
      <a-entity id="PopPupSala"></a-entity>
    </a-entity>

    


  </a-scene>

  <script src="javaScript/funcions.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
</body>

</html>